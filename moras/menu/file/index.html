<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `file` mod in crate `moras`."><title>moras::menu::file - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="moras" data-themes="" data-resource-suffix="" data-rustdoc-version="1.80.0-nightly (f67a1acc0 2024-06-01)" data-channel="nightly" data-search-js="search-d52510db62a78183.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../moras/index.html">moras</a><span class="version">0.2.0</span></h2></div><h2 class="location"><a href="#">Module file</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In moras::menu</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../index.html">moras</a>::<wbr><a href="../index.html">menu</a>::<wbr><a class="mod" href="#">file</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../../src/moras/menu/file.rs.html#1-331">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.close_checker.html" title="fn moras::menu::file::close_checker">close_checker</a></div><div class="desc docblock-short">Check if the file is dirty, if so, display a dialog to ask user to save the
file or not. If user choose to save, save the file and then close the tab.
If user choose not to save, close the tab directly.</div></li><li><div class="item-name"><a class="fn" href="fn.close_handler.html" title="fn moras::menu::file::close_handler">close_handler</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="fn" href="fn.event_handler.html" title="fn moras::menu::file::event_handler">event_handler</a></div></li><li><div class="item-name"><a class="fn" href="fn.exit_handler.html" title="fn moras::menu::file::exit_handler">exit_handler</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Iterate all tabs, check if each tab is dirty, if so, display a dialog to ask
user to save the file or not. If user choose to save, save the file and then
close the tab. If user choose not to save, close the tab directly.</div></li><li><div class="item-name"><a class="fn" href="fn.new.html" title="fn moras::menu::file::new">new</a></div></li><li><div class="item-name"><a class="fn" href="fn.new_tab.html" title="fn moras::menu::file::new_tab">new_tab</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Create a new tab with the file in provided file path</div></li><li><div class="item-name"><a class="fn" href="fn.open_handler.html" title="fn moras::menu::file::open_handler">open_handler</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">event emit: front_file_open
payload: OpenFile { file_path: String, content: String }</div></li><li><div class="item-name"><a class="fn" href="fn.save_as_handler.html" title="fn moras::menu::file::save_as_handler">save_as_handler</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">event emit: front_file_save_as
payload: String
FIXME: the emit event maybe unused?</div></li><li><div class="item-name"><a class="fn" href="fn.save_handler.html" title="fn moras::menu::file::save_handler">save_handler</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">event emit: front_file_save
payload: String fn save_handler(event: &amp;WindowMenuEvent) { let name =
get_current_tab_name(&amp;event); let tab_map =
event.window().state::<TabMap>(); let mut lock =
tab_map.tabs.lock().unwrap();</div></li><li><div class="item-name"><a class="fn" href="fn.share_handler.html" title="fn moras::menu::file::share_handler">share_handler</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li></ul></section></div></main></body></html>